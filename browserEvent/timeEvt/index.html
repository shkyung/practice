<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <title>Title</title>
</head>
<body>
<p>does it possible to stop setTimout callback function in the middle of the performance?</p>
<p>Click the first button to calculation plus from 0 to somewhat big number after waiting 3 seconds.</p>
<p>Click the second button to "quit the calc". it must be clicked in the middle of performance. it's difference with the
  clearTimeout.</p>

<div onclick="setTimeoutCalc()">calc</div>
<div onclick="forceQuit()">quit the calc</div>
<div onclick="clearTimer()">clear the timer</div>


</body>
<script>
    var terminateFlag = false,
      timer;

    function setTimeoutCalc() {
        timer = setTimeout(calc, 2000);
    }

    function calc() {
        console.error("calc start!");
        var i = 0,
          sum = 0;

        while (i < 10000000000) {
            if (terminateFlag) {
                console.error("calc force shutdown! i : ", i);
                return;
            }

            sum += i;
            i++;
        }
        console.error("----------------- sum : ", sum);
        console.error("calc end!");
    }

    function forceQuit() {
        console.error("set terminateFlag true!");
        terminateFlag = true;

    }

    function clearTimer() {
        console.error("clear timer!");
        clearTimeout(timer);
    }

    // 1. calc button click -> 2. quit the calc click twice -> 3. clear the timer third time
    // result:
    // calc start!
    // ----------------- sum : 49999999990067860000
    // calc end!
    // set terminateFlag true!     (twice)
    // clear timer!                (third time)
</script>
</html>